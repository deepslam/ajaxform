"use strict";jQuery.fn.ajaxForm=function(e){function t(e){var t=String(jQuery(e).get(0).nodeName).toUpperCase(),r="";switch(t){case"INPUT":r=jQuery(e).attr("type")?String(jQuery(e).attr("type")).toUpperCase():t;break;default:r=t}return r}function r(e){if(void 0!==i[e]&&i[e].length>0)for(var t in i[e])if("function"==typeof i[e][t])if(arguments.length>1)switch(arguments.length){case 2:i[e][t](a,arguments[1]);break;case 3:i[e][t](a,arguments[1],arguments[2])}else i[e][t](a)}var n=$.extend({fields:{},url:"",errorClass:"error",secretkey:"",secretkeyFieldName:"frm_secret"},e),i={sent:[],fail:[],failSend:[],sending:[],validate:[],before:[]},a=this,o=[],u=this,s=function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,n,i,a,o;return i=2147483648&e,a=2147483648&t,r=1073741824&e,n=1073741824&t,o=(1073741823&e)+(1073741823&t),r&n?2147483648^o^i^a:r|n?1073741824&o?3221225472^o^i^a:1073741824^o^i^a:o^i^a}function n(e,t,r){return e&t|~e&r}function i(e,t,r){return e&r|t&~r}function a(e,t,r){return e^t^r}function o(e,t,r){return t^(e|~r)}function u(e,i,a,o,u,s,f){return e=r(e,r(r(n(i,a,o),u),f)),r(t(e,s),i)}function s(e,n,a,o,u,s,f){return e=r(e,r(r(i(n,a,o),u),f)),r(t(e,s),n)}function f(e,n,i,o,u,s,f){return e=r(e,r(r(a(n,i,o),u),f)),r(t(e,s),n)}function c(e,n,i,a,u,s,f){return e=r(e,r(r(o(n,i,a),u),f)),r(t(e,s),n)}function d(e){var t,r="",n="";for(t=0;t<=3;t++)r+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return r}var l,y,h,p,m,j,g,v,Q,C=Array();for(C=function(e){for(var t,r=e.length,n=r+8,i=16*((n-n%64)/64+1),a=Array(i-1),o=0,u=0;u<r;)o=u%4*8,a[t=(u-u%4)/4]=a[t]|e.charCodeAt(u)<<o,u++;return t=(u-u%4)/4,o=u%4*8,a[t]=a[t]|128<<o,a[i-2]=r<<3,a[i-1]=r>>>29,a}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),j=1732584193,g=4023233417,v=2562383102,Q=271733878,l=0;l<C.length;l+=16)y=j,h=g,p=v,m=Q,g=c(g=c(g=c(g=c(g=f(g=f(g=f(g=f(g=s(g=s(g=s(g=s(g=u(g=u(g=u(g=u(g,v=u(v,Q=u(Q,j=u(j,g,v,Q,C[l+0],7,3614090360),g,v,C[l+1],12,3905402710),j,g,C[l+2],17,606105819),Q,j,C[l+3],22,3250441966),v=u(v,Q=u(Q,j=u(j,g,v,Q,C[l+4],7,4118548399),g,v,C[l+5],12,1200080426),j,g,C[l+6],17,2821735955),Q,j,C[l+7],22,4249261313),v=u(v,Q=u(Q,j=u(j,g,v,Q,C[l+8],7,1770035416),g,v,C[l+9],12,2336552879),j,g,C[l+10],17,4294925233),Q,j,C[l+11],22,2304563134),v=u(v,Q=u(Q,j=u(j,g,v,Q,C[l+12],7,1804603682),g,v,C[l+13],12,4254626195),j,g,C[l+14],17,2792965006),Q,j,C[l+15],22,1236535329),v=s(v,Q=s(Q,j=s(j,g,v,Q,C[l+1],5,4129170786),g,v,C[l+6],9,3225465664),j,g,C[l+11],14,643717713),Q,j,C[l+0],20,3921069994),v=s(v,Q=s(Q,j=s(j,g,v,Q,C[l+5],5,3593408605),g,v,C[l+10],9,38016083),j,g,C[l+15],14,3634488961),Q,j,C[l+4],20,3889429448),v=s(v,Q=s(Q,j=s(j,g,v,Q,C[l+9],5,568446438),g,v,C[l+14],9,3275163606),j,g,C[l+3],14,4107603335),Q,j,C[l+8],20,1163531501),v=s(v,Q=s(Q,j=s(j,g,v,Q,C[l+13],5,2850285829),g,v,C[l+2],9,4243563512),j,g,C[l+7],14,1735328473),Q,j,C[l+12],20,2368359562),v=f(v,Q=f(Q,j=f(j,g,v,Q,C[l+5],4,4294588738),g,v,C[l+8],11,2272392833),j,g,C[l+11],16,1839030562),Q,j,C[l+14],23,4259657740),v=f(v,Q=f(Q,j=f(j,g,v,Q,C[l+1],4,2763975236),g,v,C[l+4],11,1272893353),j,g,C[l+7],16,4139469664),Q,j,C[l+10],23,3200236656),v=f(v,Q=f(Q,j=f(j,g,v,Q,C[l+13],4,681279174),g,v,C[l+0],11,3936430074),j,g,C[l+3],16,3572445317),Q,j,C[l+6],23,76029189),v=f(v,Q=f(Q,j=f(j,g,v,Q,C[l+9],4,3654602809),g,v,C[l+12],11,3873151461),j,g,C[l+15],16,530742520),Q,j,C[l+2],23,3299628645),v=c(v,Q=c(Q,j=c(j,g,v,Q,C[l+0],6,4096336452),g,v,C[l+7],10,1126891415),j,g,C[l+14],15,2878612391),Q,j,C[l+5],21,4237533241),v=c(v,Q=c(Q,j=c(j,g,v,Q,C[l+12],6,1700485571),g,v,C[l+3],10,2399980690),j,g,C[l+10],15,4293915773),Q,j,C[l+1],21,2240044497),v=c(v,Q=c(Q,j=c(j,g,v,Q,C[l+8],6,1873313359),g,v,C[l+15],10,4264355552),j,g,C[l+6],15,2734768916),Q,j,C[l+13],21,1309151649),v=c(v,Q=c(Q,j=c(j,g,v,Q,C[l+4],6,4149444226),g,v,C[l+11],10,3174756917),j,g,C[l+2],15,718787259),Q,j,C[l+9],21,3951481745),j=r(j,y),g=r(g,h),v=r(v,p),Q=r(Q,m);return(d(j)+d(g)+d(v)+d(Q)).toLowerCase()};return"FORM"!=String(jQuery(u).get(0).nodeName).toUpperCase()&&(0!=jQuery(u).find("form").length?u=jQuery(u).find("form").first():0!=jQuery(u).closest("form").length&&(u=jQuery(u).closest("form").first())),void 0!==jQuery(u).data("form")?jQuery(u).data("form"):(this.data("form",this),void 0!==e&&void 0!==e.url||(void 0!==jQuery(u).attr("action")?n.url=jQuery(u).attr("action"):"undefined"!=jQuery(u).find("form").attr("action")?n.url=jQuery(u).find("form").attr("action"):"undefined"!=jQuery(u).closest("form").first().attr("action")&&(n.url=jQuery(u).closest("form").first().attr("action"))),""!=n.secretkeyFieldName&&""==n.secretkey&&(n.secretkey=s(location.host)),""!=n.secretkey&&""!=n.secretkeyFieldName&&(u.find("input[name="+n.secretkeyFieldName+"]").length>0?u.find("input[name="+n.secretkeyFieldName+"]").val(n.secretkey):u.append('<input type="hidden" name="'+n.secretkeyFieldName+'" value="'+n.secretkey+'" />')),jQuery(u).find("input,textarea").each(function(e){var r=jQuery(this).attr("name"),i=t(jQuery(this)),a={pattern:jQuery(this).attr("pattern"),name:jQuery(this).data("name"),message:jQuery(this).data("message"),selector:jQuery(this),required:!!jQuery(this).prop("required")};if(void 0===n.fields[r]&&void 0!==r&&"SUBMIT"!=i){if(void 0===a.pattern)switch(i){case"TEL":a.pattern=/^[+]?[\d]*[\s]*[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]*[0-9]+$/i;break;case"EMAIL":a.pattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i;break;default:a.pattern=/.+/i}else a.pattern=new RegExp(a.pattern,"i");n.fields[r]=a}}),jQuery(u).on("submit",function(){return a.send($(this)),!1}),this.check=function(){var e=!1;o=[];for(var t in n.fields){var i=n.fields[t],a=i.selector;a.removeClass(n.errorClass),0==i.required&&""==a.val()||0==i.pattern.test(a.val())&&(a.addClass(n.errorClass),o.push(i,t,i),r("validate",a,i))}return 0==o.length&&(e=!0),e},this.onSent=function(e){"function"==typeof e&&i.sent.push(e)},this.onValidationFailed=function(e){"function"==typeof e&&i.fail.push(e)},this.onSending=function(e){"function"==typeof e&&i.sending.push(e)},this.onBeforeSend=function(e){"function"==typeof e&&i.before.push(e)},this.onValidationFieldError=function(e){"function"==typeof e&&i.validate.push(e)},this.onFailSend=function(e){"function"==typeof e&&i.failSend.push(e)},this.clear=function(){jQuery(u).find("input[type=text],input[type=email],input[type=url], textarea").val(""),jQuery(u).find("input[type=radio]").removeAttr("selected"),jQuery(u).find("input[type=checkbox]").prop("checked",!1)},this.send=function(e){if(r("before"),!a.check())return r("fail"),!1;jQuery.ajax({url:n.url,type:"POST",data:jQuery(e).serialize(),dataType:"json"}).done(function(e){r("sent",e)}).error(function(e){r("failSend",e)})},this.getErrors=function(){return o},this)};