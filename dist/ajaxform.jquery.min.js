"use strict";var feedbackForm=function(t,n){function e(t){if(void 0!==o[t]&&o[t].length>0)for(var n in o[t])if("function"==typeof o[t][n])if(arguments.length>1)switch(arguments.length){case 2:o[t][n](arguments[1]);break;case 3:o[t][n](arguments[1],arguments[2])}else o[t][n]()}var i={fields:{},url:"",additional_params:{}},o={sent:[],fail:[],failSend:[],sending:[],validate:[],before:[]},r=this,f=[];if("object"==typeof n&&n.length>0)for(var a in n)i.hasOwnProperty(a)&&(i[a]=n[a]);if("object"!=typeof t)throw new Exception("Has been received wrong object ID");return void 0===n.url&&void 0!==$(t).attr("action")&&(n.url=$(t).attr("action")),t.onsubmit=function(){return r.send(),!1},this.check=function(){var i=!1;f=[];for(var o in n.fields){var r=n.fields[o],a=$(t).find(r.selector);0==r.required&&""==a.val()||(r.pattern.test(a.val())||(f.push(r,o,r),e("validate",a,r)))}return 0==f.length&&(i=!0),i},this.onSent=function(t){"function"==typeof t&&o.sent.push(t)},this.onFail=function(t){"function"==typeof t&&o.fail.push(t)},this.onSending=function(t){"function"==typeof t&&o.sending.push(t)},this.onBeforeSend=function(t){"function"==typeof t&&o.before.push(t)},this.onValidateError=function(t){"function"==typeof t&&o.validate.push(t)},this.onFailSend=function(t){"function"==typeof t&&o.failSend.push(t)},this.clear=function(){$(t).find("input[type=text],input[type=email],input[type=url], textarea").val(""),$(t).find("input[type=radio]").removeAttr("selected"),$(t).find("input[type=checkbox]").prop("checked",!1)},this.send=function(){if(e("before"),!r.check())return e("fail"),!1;$.ajax({url:n.url,type:"POST",data:t.serialize(),dataType:"json"}).done(function(t){e("sent",t)}).error(function(){e("failSend")})},this.getErrors=function(){return f},this};