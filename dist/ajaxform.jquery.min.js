"use strict";jQuery.fn.ajaxForm=function(e){function t(e){var t=String(jQuery(e).get(0).nodeName).toUpperCase(),r="";switch(t){case"INPUT":r=jQuery(e).attr("type")?String(jQuery(e).attr("type")).toUpperCase():t;break;default:r=t}return r}function r(e){if(void 0!==i[e]&&i[e].length>0)for(var t in i[e])if("function"==typeof i[e][t])if(arguments.length>1)switch(arguments.length){case 2:i[e][t](a,arguments[1]);break;case 3:i[e][t](a,arguments[1],arguments[2])}else i[e][t](a)}var n=$.extend({fields:{},url:"",errorClass:"error",secretkey:"",secretkeyFieldName:"frm_secret"},e),i={sent:[],fail:[],failSend:[],sending:[],validate:[],before:[]},a=this,s=[],o=this;return"FORM"!=String(jQuery(o).get(0).nodeName).toUpperCase()&&(0!=jQuery(o).find("form").length?o=jQuery(o).find("form").first():0!=jQuery(o).closest("form").length&&(o=jQuery(o).closest("form").first())),void 0!==jQuery(o).data("form")?jQuery(o).data("form"):(this.data("form",this),void 0!==e&&void 0!==e.url||(void 0!==jQuery(o).attr("action")?n.url=jQuery(o).attr("action"):"undefined"!=jQuery(o).find("form").attr("action")?n.url=jQuery(o).find("form").attr("action"):"undefined"!=jQuery(o).closest("form").first().attr("action")&&(n.url=jQuery(o).closest("form").first().attr("action"))),function(){""!=n.secretkey&&""!=n.secretkeyFieldName&&(o.find("input[name="+n.secretkeyFieldName+"]").length>0?o.find("input[name="+n.secretkeyFieldName+"]").val(n.secretkey):o.append('<input type="hidden" name="'+n.secretkeyFieldName+'" value="'+n.secretkey+'" />'))}(),function(){jQuery(o).find("input,textarea").each(function(e){var r=jQuery(this).attr("name"),i=t(jQuery(this)),a={pattern:jQuery(this).attr("pattern"),name:jQuery(this).data("name"),message:jQuery(this).data("message"),selector:jQuery(this),required:!!jQuery(this).prop("required")};if(void 0===n.fields[r]&&void 0!==r&&"SUBMIT"!=i){if(void 0===a.pattern)switch(i){case"TEL":a.pattern=/^[+]?[\d]*[\s]*[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]*[0-9]+$/i;break;case"EMAIL":a.pattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i;break;default:a.pattern=/.+/i}else a.pattern=new RegExp(a.pattern,"i");n.fields[r]=a}})}(),jQuery(o).on("submit",function(){return a.send(),!1}),this.check=function(){var e=!1;s=[];for(var t in n.fields){var i=n.fields[t],a=i.selector;a.removeClass(n.errorClass),0==i.required&&""==a.val()||0==i.pattern.test(a.val())&&(a.addClass(n.errorClass),s.push(i,t,i),r("validate",a,i))}return 0==s.length&&(e=!0),e},this.onSent=function(e){"function"==typeof e&&i.sent.push(e)},this.onValidationFailed=function(e){"function"==typeof e&&i.fail.push(e)},this.onSending=function(e){"function"==typeof e&&i.sending.push(e)},this.onBeforeSend=function(e){"function"==typeof e&&i.before.push(e)},this.onValidationFieldError=function(e){"function"==typeof e&&i.validate.push(e)},this.onFailSend=function(e){"function"==typeof e&&i.failSend.push(e)},this.clear=function(){jQuery(o).find("input[type=text],input[type=email],input[type=url], textarea").val(""),jQuery(o).find("input[type=radio]").removeAttr("selected"),jQuery(o).find("input[type=checkbox]").prop("checked",!1)},this.send=function(){if(r("before"),!a.check())return r("fail"),!1;jQuery.ajax({url:n.url,type:"POST",data:jQuery(o).serialize(),dataType:"json"}).done(function(e){r("sent",e)}).error(function(e){r("failSend",e)})},this.getErrors=function(){return s},this)};